<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar</title>
</head>
<body>
    <h1>Calendar</h1>
    <div id="calendar"></div>
    <script>
        const corsProxy = 'https://cors-anywhere.herokuapp.com/';
        const apiUrl = 'https://api.lodgify.com/v2/availability/473626?start=2025-01-01%2000%3A00%3A00&end=2025-06-01%2000%3A00%3A00&includeDetails=false';
        const headers = {
            'X-ApiKey': 'y9iO35MC3wScMhnoh7myCsrJO/F2JzLbKGEGaZcUtpLusMRGWIg4NnYWU4RgXlm6',
            'accept': 'application/json'
        };

        fetch(corsProxy + apiUrl, { headers })
            .then(response => response.json())
            .then(data => {
                const calendarDiv = document.getElementById('calendar');
                data[0].periods.forEach(period => {
                    const eventDiv = document.createElement('div');
                    eventDiv.innerHTML = `<h3>${period.start} to ${period.end}</h3><p>Available: ${period.available ? 'Yes' : 'No'}</p>`;
                    calendarDiv.appendChild(eventDiv);
                });
            })
            .catch(error => {
                console.error('There has been a problem with your fetch operation:', error);
            });
    </script>
</body>
</html>
